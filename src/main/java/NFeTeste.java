import app.notafiscal.NfeApi;

public class NFeTeste {


    public static void main(String[] args) {

        NfeApi api = new NfeApi();

        api.NfeConfigurar("Marilda018",
                "changeit",
                "D:\\Certificado\\j.pfx",
                "D:\\Certificado\\homologacao.cacerts",
                "PR",
                "2",
                "1",
                "1",
                "4.00"
        );

        String xml = " <NFe xmlns=\"http://www.portalfiscal.inf.br/nfe\"><infNFe Id=\"NFe41201204861226000138550010000346371120346370\" versao=\"4.00\"><ide><cUF>41</cUF><cNF>12034637</cNF><natOp>EXPORTACAO</natOp><mod>55</mod><serie>1</serie><nNF>34637</nNF><dhEmi>2020-12-09T15:35:53-03:00</dhEmi><dhSaiEnt>2020-12-09T15:35:53-03:00</dhSaiEnt><tpNF>1</tpNF><idDest>3</idDest><cMunFG>4101507</cMunFG><tpImp>1</tpImp><tpEmis>1</tpEmis><cDV>0</cDV><tpAmb>1</tpAmb><finNFe>1</finNFe><indFinal>0</indFinal><indPres>1</indPres><procEmi>0</procEmi><verProc>4.01</verProc></ide><emit><CNPJ>04861226000138</CNPJ><xNome>GRAPPA IND. E COM. DE MOV. EIRELI</xNome><xFant>GRAPPA MOVEIS</xFant><enderEmit><xLgr>JURITI (GALPAO/PORTAO 56)</xLgr><nro>126</nro><xBairro>PQ INDUSTRIAL</xBairro><cMun>4101507</cMun><xMun>ARAPONGAS</xMun><UF>PR</UF><CEP>86706010</CEP><cPais>1058</cPais><xPais>BRASIL</xPais><fone>31728555</fone></enderEmit><IE>9025205119</IE><CRT>3</CRT></emit><dest><idEstrangeiro/><xNome>TIENDAS PERUANAS S.A. (36884)</xNome><enderDest><xLgr>AV.AVIACION</xLgr><nro>2405</nro><xCpl>PISO 7</xCpl><xBairro>CENTRO</xBairro><cMun>9999999</cMun><xMun>LIMA</xMun><UF>EX</UF><cPais>5894</cPais><xPais>PERU</xPais></enderDest><indIEDest>9</indIEDest></dest><det nItem=\"1\"><prod><cProd>10.00359124124</cProd><cEAN>SEM GTIN</cEAN><xProd>(10.00359) 124 ESTANTE CARIBE CANELA</xProd><NCM>94036000</NCM><cBenef>PR800002</cBenef><CFOP>7101</CFOP><uCom>UN</uCom><qCom>80.0000</qCom><vUnCom>172.5984600000</vUnCom><vProd>13807.88</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>80.0000</qTrib><vUnTrib>172.5984600000</vUnTrib><indTot>1</indTot><xPed>029-30</xPed><nItemPed>1</nItemPed></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>41</CST></ICMS40></ICMS><IPI><CNPJProd>00000000000000</CNPJProd><cSelo>N</cSelo><qSelo>0</qSelo><cEnq>999</cEnq><IPITrib><CST>99</CST><vBC>0.00</vBC><pIPI>0.00</pIPI><vIPI>0.00</vIPI></IPITrib></IPI><PIS><PISNT><CST>08</CST></PISNT></PIS><COFINS><COFINSNT><CST>08</CST></COFINSNT></COFINS></imposto><infAdProd>10.00359-ESTANTE CARIBE 124-CANELA SKU-1009553</infAdProd></det><det nItem=\"2\"><prod><cProd>10.00329127127</cProd><cEAN>SEM GTIN</cEAN><xProd>(10.00329) 127 ESTANTE ESTELA CANELA/CAFE</xProd><NCM>94036000</NCM><cBenef>PR800002</cBenef><CFOP>7101</CFOP><uCom>UN</uCom><qCom>80.0000</qCom><vUnCom>442.4426600000</vUnCom><vProd>35395.41</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>80.0000</qTrib><vUnTrib>442.4426600000</vUnTrib><indTot>1</indTot><xPed>029-30</xPed><nItemPed>2</nItemPed></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>41</CST></ICMS40></ICMS><IPI><CNPJProd>00000000000000</CNPJProd><cSelo>N</cSelo><qSelo>0</qSelo><cEnq>999</cEnq><IPITrib><CST>99</CST><vBC>0.00</vBC><pIPI>0.00</pIPI><vIPI>0.00</vIPI></IPITrib></IPI><PIS><PISNT><CST>08</CST></PISNT></PIS><COFINS><COFINSNT><CST>08</CST></COFINSNT></COFINS></imposto><infAdProd>10.00329-ESTANTE ESTELA 127-CANELA/CAFE SKU-974417</infAdProd></det><det nItem=\"3\"><prod><cProd>10.00328124124</cProd><cEAN>SEM GTIN</cEAN><xProd>(10.00328) 124 ESTANTE LUCERO CANELA</xProd><NCM>94036000</NCM><cBenef>PR800002</cBenef><CFOP>7101</CFOP><uCom>UN</uCom><qCom>80.0000</qCom><vUnCom>287.6641000000</vUnCom><vProd>23013.13</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>80.0000</qTrib><vUnTrib>287.6641000000</vUnTrib><indTot>1</indTot><xPed>029-30</xPed><nItemPed>3</nItemPed></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>41</CST></ICMS40></ICMS><IPI><CNPJProd>00000000000000</CNPJProd><cSelo>N</cSelo><qSelo>0</qSelo><cEnq>999</cEnq><IPITrib><CST>99</CST><vBC>0.00</vBC><pIPI>0.00</pIPI><vIPI>0.00</vIPI></IPITrib></IPI><PIS><PISNT><CST>08</CST></PISNT></PIS><COFINS><COFINSNT><CST>08</CST></COFINSNT></COFINS></imposto><infAdProd>10.00328-ESTANTE LUCERO 124-CANELA SKU-1077547</infAdProd></det><det nItem=\"4\"><prod><cProd>10.00302127127</cProd><cEAN>SEM GTIN</cEAN><xProd>(10.00302) 127 ESTANTE QUINTA CANELA/CAFE</xProd><NCM>94036000</NCM><cBenef>PR800002</cBenef><CFOP>7101</CFOP><uCom>UN</uCom><qCom>80.0000</qCom><vUnCom>437.3512600000</vUnCom><vProd>34988.10</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>80.0000</qTrib><vUnTrib>437.3512600000</vUnTrib><indTot>1</indTot><xPed>029-30</xPed><nItemPed>4</nItemPed></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>41</CST></ICMS40></ICMS><IPI><CNPJProd>00000000000000</CNPJProd><cSelo>N</cSelo><qSelo>0</qSelo><cEnq>999</cEnq><IPITrib><CST>99</CST><vBC>0.00</vBC><pIPI>0.00</pIPI><vIPI>0.00</vIPI></IPITrib></IPI><PIS><PISNT><CST>08</CST></PISNT></PIS><COFINS><COFINSNT><CST>08</CST></COFINSNT></COFINS></imposto><infAdProd>10.00302-ESTANTE QUINTA 127-CANELA/CAFE SKU-804389</infAdProd></det><det nItem=\"5\"><prod><cProd>10.00276127127</cProd><cEAN>7899578810509</cEAN><xProd>(10.00276) 127 ESTANTE HAVANA CANELA/CAFE</xProd><NCM>94036000</NCM><cBenef>PR800002</cBenef><CFOP>7101</CFOP><uCom>UN</uCom><qCom>80.0000</qCom><vUnCom>213.3296600000</vUnCom><vProd>17066.37</vProd><cEANTrib>7899578810509</cEANTrib><uTrib>UN</uTrib><qTrib>80.0000</qTrib><vUnTrib>213.3296600000</vUnTrib><indTot>1</indTot><xPed>029-30</xPed><nItemPed>5</nItemPed></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>41</CST></ICMS40></ICMS><IPI><CNPJProd>00000000000000</CNPJProd><cSelo>N</cSelo><qSelo>0</qSelo><cEnq>999</cEnq><IPITrib><CST>99</CST><vBC>0.00</vBC><pIPI>0.00</pIPI><vIPI>0.00</vIPI></IPITrib></IPI><PIS><PISNT><CST>08</CST></PISNT></PIS><COFINS><COFINSNT><CST>08</CST></COFINSNT></COFINS></imposto><infAdProd>10.00276-ESTANTE HAVANA 127-CANELA/CAFE SKU-804390</infAdProd></det><det nItem=\"6\"><prod><cProd>10.00342124124</cProd><cEAN>7899578816280</cEAN><xProd>(10.00342) 124 BANCADA JAZZ CANELA</xProd><NCM>94036000</NCM><cBenef>PR800002</cBenef><CFOP>7101</CFOP><uCom>UN</uCom><qCom>20.0000</qCom><vUnCom>203.1468600000</vUnCom><vProd>4062.94</vProd><cEANTrib>7899578816280</cEANTrib><uTrib>UN</uTrib><qTrib>20.0000</qTrib><vUnTrib>203.1468600000</vUnTrib><indTot>1</indTot><xPed>029-30</xPed><nItemPed>6</nItemPed></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>41</CST></ICMS40></ICMS><IPI><CNPJProd>00000000000000</CNPJProd><cSelo>N</cSelo><qSelo>0</qSelo><cEnq>999</cEnq><IPITrib><CST>99</CST><vBC>0.00</vBC><pIPI>0.00</pIPI><vIPI>0.00</vIPI></IPITrib></IPI><PIS><PISNT><CST>08</CST></PISNT></PIS><COFINS><COFINSNT><CST>08</CST></COFINSNT></COFINS></imposto><infAdProd>10.00342-BANCADA JAZZ 124-CANELA SKU-1077549</infAdProd></det><det nItem=\"7\"><prod><cProd>10.00236127127</cProd><cEAN>7899578812213</cEAN><xProd>(10.00236) 127 MESA DE CENTRO PLUS CANELA/CAFE</xProd><NCM>94036000</NCM><cBenef>PR800002</cBenef><CFOP>7101</CFOP><uCom>UN</uCom><qCom>80.0000</qCom><vUnCom>60.5876600000</vUnCom><vProd>4847.01</vProd><cEANTrib>7899578812213</cEANTrib><uTrib>UN</uTrib><qTrib>80.0000</qTrib><vUnTrib>60.5876600000</vUnTrib><indTot>1</indTot><xPed>029-30</xPed><nItemPed>7</nItemPed></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>41</CST></ICMS40></ICMS><IPI><CNPJProd>00000000000000</CNPJProd><cSelo>N</cSelo><qSelo>0</qSelo><cEnq>999</cEnq><IPITrib><CST>99</CST><vBC>0.00</vBC><pIPI>0.00</pIPI><vIPI>0.00</vIPI></IPITrib></IPI><PIS><PISNT><CST>08</CST></PISNT></PIS><COFINS><COFINSNT><CST>08</CST></COFINSNT></COFINS></imposto><infAdProd>10.00236-MESA DE CENTRO PLUS 127-CANELA/CAFE SKU-1009554</infAdProd></det><total><ICMSTot><vBC>0.00</vBC><vICMS>0.00</vICMS><vICMSDeson>0</vICMSDeson><vFCPUFDest>0</vFCPUFDest><vICMSUFDest>0</vICMSUFDest><vICMSUFRemet>0</vICMSUFRemet><vFCP>0</vFCP><vBCST>0.00</vBCST><vST>0.00</vST><vFCPST>0</vFCPST><vFCPSTRet>0</vFCPSTRet><vProd>133180.84</vProd><vFrete>0.00</vFrete><vSeg>0.00</vSeg><vDesc>0.00</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vIPIDevol>0</vIPIDevol><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vOutro>0.00</vOutro><vNF>133180.84</vNF></ICMSTot></total><transp><modFrete>1</modFrete><transporta><CNPJ>01560502000210</CNPJ><xNome>C.A.F. LOGISTICA E TRANSPORTE EIRELI</xNome><IE>1550050939</IE><xEnder>R OSVALDO ARANHA,1367</xEnder><xMun>VENANCIO AIRES</xMun><UF>RS</UF></transporta><vol><qVol>900</qVol><esp>VOLUME</esp><marca>GRAPPA</marca><pesoL>26629.360</pesoL><pesoB>26919.360</pesoB></vol></transp><cobr><fat><nFat>34637</nFat><vOrig>133180.84</vOrig><vLiq>133180.84</vLiq></fat><dup><nDup>001</nDup><dVenc>2021-03-08</dVenc><vDup>133180.84</vDup></dup></cobr><pag><detPag><tPag>90</tPag><vPag>0.00</vPag></detPag></pag><infAdic><infCpl>NAO INCIDENCIA DO ICMS CONF. ARTIGO 3 INCISO II RICMS/PR IMU NIDADE DO IPI CONF. ART 18 INCISO II DO RIPI/2002 REPRES. 3331MATHEUS K. LIMA CIA LTDA CARGA 1057 ENTREGA 1A PEDIDO 1711 ORDEM DE COMPRA: 029-30</infCpl></infAdic><exporta><UFSaidaPais>PR</UFSaidaPais><xLocExporta>ARAPONGAS</xLocExporta><xLocDespacho>ARAPONGAS</xLocDespacho></exporta><infRespTec><CNPJ>04329365000115</CNPJ><xContato>Leandro Penha</xContato><email>leandropenha@wvetro.com.br</email><fone>4331724200</fone><idCSRT>99</idCSRT><hashCSRT>YWFhYWFhYWFhYWFhYWFhYWFhYWE=</hashCSRT></infRespTec></infNFe></NFe>";

        String response;

        try {
            //String xmlAssinado = api.NfeAssinar(xml);
            //ok
            response = api.NFeEmitir(xml, "10", "1", "1");
            //ok
            //response = api.geraChaveCTe(xml);
            //ok
            //response = api.geraQrCode(xml);
            //ok
            //response = api.consultaStatusServicoCod("PR");
            //error
            //response = api.NFDateTime("PR");
            //error
            //response = api.cancelarCteAssinada("41201124476580000156570010000275021000375663", "154198419105185984");
        } catch (Exception e) {
            response = "Error: " + e.getMessage();
        }
        System.out.println(response);
    }
}

